Metadata-Version: 2.4
Name: meshretopo
Version: 0.1.0
Summary: AI-assisted retopology: neural guidance + deterministic mesh generation
Author: MeshRetopo Team
License: MIT
Keywords: mesh,retopology,3d,neural-network,geometry-processing
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Topic :: Multimedia :: Graphics :: 3D Modeling
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: numpy>=1.24.0
Requires-Dist: trimesh>=4.0.0
Requires-Dist: scipy>=1.11.0
Requires-Dist: pyyaml>=6.0
Requires-Dist: rich>=13.0.0
Requires-Dist: typer>=0.9.0
Requires-Dist: matplotlib>=3.7.0
Requires-Dist: pandas>=2.0.0
Requires-Dist: networkx>=3.0
Provides-Extra: full
Requires-Dist: torch>=2.0.0; extra == "full"
Requires-Dist: open3d>=0.17.0; extra == "full"
Requires-Dist: pymeshlab>=2023.12; extra == "full"
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"

# MeshRetopo: AI-Assisted Retopology

Neural-guided, deterministically-controlled mesh retopology for production pipelines.

## Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                         INPUT MESH                               │
│                    (High-poly scan/sculpt)                       │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                    ANALYSIS PIPELINE                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────┐  │
│  │  Curvature  │  │  Feature    │  │  Neural Edge Flow       │  │
│  │  Analysis   │  │  Detection  │  │  Prediction             │  │
│  └─────────────┘  └─────────────┘  └─────────────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                   GUIDANCE GENERATION                            │
│  • Quad size field (curvature-adaptive)                         │
│  • Edge flow direction field                                     │
│  • Feature importance map                                        │
│  • Symmetry detection                                            │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│               DETERMINISTIC REMESHING                            │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────┐  │
│  │  QuadriFlow │  │  Instant    │  │  Custom Guided          │  │
│  │  Backend    │  │  Meshes     │  │  Remesher               │  │
│  └─────────────┘  └─────────────┘  └─────────────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                    POST-PROCESSING                               │
│  • Feature snapping                                              │
│  • Vertex optimization                                           │
│  • UV-aware adjustments                                          │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                    EVALUATION METRICS                            │
│  • Quad quality (aspect ratio, skewness)                        │
│  • Hausdorff distance to original                               │
│  • Edge flow score                                               │
│  • Pole placement analysis                                       │
└─────────────────────────────────────────────────────────────────┘
```

## Quick Start

```bash
# Install
pip install -e ".[dev]"

# Run retopology on a mesh
meshretopo process input.obj --target-faces 5000 --output output.obj

# Run evaluation
meshretopo evaluate original.obj retopo.obj

# Run experiment suite
meshretopo experiment --config experiments/baseline.yaml

# Interactive iteration mode
meshretopo iterate input.obj --cycles 5
```

## Project Structure

```
src/meshretopo/
├── core/                    # Core mesh data structures
│   ├── mesh.py             # Unified mesh representation
│   └── fields.py           # Scalar/vector fields on meshes
├── analysis/               # Neural + classical analysis
│   ├── curvature.py        # Curvature computation
│   ├── features.py         # Feature detection (edges, corners)
│   └── neural/             # Neural network modules
│       ├── edge_flow.py    # Edge flow prediction
│       └── sizing.py       # Adaptive sizing prediction
├── guidance/               # Guidance field generation
│   ├── size_field.py       # Quad size guidance
│   ├── direction_field.py  # Edge direction guidance
│   └── composer.py         # Combine multiple guidance sources
├── remesh/                 # Deterministic remeshing backends
│   ├── base.py             # Abstract remesher interface
│   ├── pymeshlab.py        # PyMeshLab backend
│   ├── instant_meshes.py   # Instant Meshes wrapper
│   └── guided.py           # Custom guided remesher
├── postprocess/            # Post-processing operations
│   ├── snap.py             # Feature snapping
│   └── optimize.py         # Vertex position optimization
├── evaluation/             # Quality metrics
│   ├── metrics.py          # Individual metrics
│   ├── scorer.py           # Combined scoring
│   └── visualize.py        # Result visualization
├── experiments/            # Experiment framework
│   ├── runner.py           # Experiment runner
│   ├── config.py           # Configuration system
│   └── logger.py           # Experiment logging
└── cli.py                  # Command-line interface
```

## Iteration Philosophy

This system is designed for **rapid experimentation**:

1. **Modular backends** - Swap remeshing algorithms without changing the pipeline
2. **Configurable guidance** - Tune neural vs. classical guidance blend
3. **Comprehensive metrics** - Know exactly what improved (or regressed)
4. **Experiment tracking** - Compare runs, identify winning configurations
5. **Visual debugging** - See guidance fields, intermediate results

## Development Cycle

```bash
# 1. Run baseline
meshretopo experiment --config experiments/baseline.yaml --name baseline_v1

# 2. Modify guidance/remeshing parameters
# 3. Run new experiment
meshretopo experiment --config experiments/v2.yaml --name improved_v2

# 4. Compare results
meshretopo compare baseline_v1 improved_v2

# 5. Iterate
```
